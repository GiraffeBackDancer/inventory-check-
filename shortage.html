<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ë¶€ì¡±í’ˆëª© ì²´í¬ë¦¬ìŠ¤íŠ¸</title>
<style>
  :root { --gap:10px; --radius:10px; --soft:#f4f6f8; --line:#e5e8eb; }
  *{box-sizing:border-box} body{font-family:system-ui,-apple-system,Segoe UI,Roboto,'Noto Sans KR',sans-serif; margin:0; background:#fff; color:#111}
  header{position:sticky;top:0;background:#fff;border-bottom:1px solid var(--line);padding:14px}
  main{max-width:700px;margin:0 auto;padding:16px}
  h1{font-size:18px;margin:0 0 8px}
  .row{display:flex;gap:var(--gap);flex-wrap:wrap}
  input,select,button,textarea{font:inherit}
  input[type="text"], input[type="number"], textarea, select{
    padding:10px;border:1px solid var(--line);border-radius:8px;background:#fff;flex:1;min-width:120px
  }
  textarea{min-height:60px;resize:vertical}
  .btn{padding:10px 14px;border:1px solid var(--line);background:#fff;border-radius:8px;cursor:pointer}
  .btn.primary{background:#111;color:#fff;border-color:#111}
  .btn.ghost{background:#fff}
  .toolbar{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
  .card{background:var(--soft);padding:12px;border-radius:var(--radius);border:1px solid var(--line)}
  .list{display:flex;flex-direction:column;gap:10px}
  .item{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:10px;background:#fff;border:1px solid var(--line);border-radius:10px;padding:10px}
  .item.done{opacity:.55}
  .title{font-weight:600}
  .meta{font-size:12px;color:#666;margin-top:4px}
  .cat{display:inline-block;font-size:11px;padding:2px 8px;border-radius:999px;border:1px solid var(--line);background:#fafbfc;margin-right:6px}
  .qty{font-size:12px;background:#f0f3f5;border-radius:6px;padding:2px 6px;margin-left:6px}
  .actions{display:flex;gap:6px}
  .search{display:flex;gap:8px}
  .preset-wrap{display:flex;gap:6px;flex-wrap:wrap}
  .chip{border:1px dashed var(--line);padding:6px 10px;border-radius:999px;background:#fff;cursor:pointer;font-size:13px}
  .chip:hover{background:#f9fafb}
  .muted{color:#777;font-size:12px}
  .split{display:flex;gap:12px;flex-wrap:wrap}
  .split > *{flex:1;min-width:240px}
  footer{padding:50px 16px}
</style>
</head>
<body>
<header>
  <h1>ğŸ§¾ ë¶€ì¡±í’ˆëª© ì²´í¬ë¦¬ìŠ¤íŠ¸</h1>
  <div class="muted" id="today"></div>
</header>

<main>
  <!-- ì„¤ì • -->
  <div class="card" style="margin-bottom:12px">
    <div class="row">
      <input id="storeName" type="text" placeholder="ê°€ê²Œ ì´ë¦„(ì˜ˆ: OOì¹´í˜)" />
      <input id="senderName" type="text" placeholder="ë³´ë‚´ëŠ” ì‚¬ëŒ(ì˜ˆ: ìƒí˜)" />
      <button class="btn" id="saveSettingsBtn">ì„¤ì • ì €ì¥</button>
    </div>
    <div class="muted" style="margin-top:6px">ì„¤ì •ì€ ìë™ ì €ì¥ë©ë‹ˆë‹¤.</div>
  </div>

  <!-- ì…ë ¥ í¼ -->
  <div class="card" style="margin-bottom:12px">
    <div class="row">
      <input id="nameInput" type="text" placeholder="í’ˆëª©ëª… (ì˜ˆ: ì–¼ìŒì»µ L)" />
      <input id="qtyInput" type="number" min="1" step="1" placeholder="ìˆ˜ëŸ‰ (ì˜ˆ: 3)" />
      <select id="catInput">
        <option value="ì‹ìì¬">ì‹ìì¬</option>
        <option value="ìŒë£Œ">ìŒë£Œ</option>
        <option value="í¬ì¥/ì†Œëª¨í’ˆ">í¬ì¥/ì†Œëª¨í’ˆ</option>
        <option value="ê¸°íƒ€" selected>ê¸°íƒ€</option>
      </select>
    </div>
    <div class="row" style="margin-top:8px">
      <textarea id="memoInput" placeholder="ë©”ëª¨ (ì˜ˆ: íŠ¹ì • ë¸Œëœë“œ, ê·œê²© ë“±)"></textarea>
    </div>
    <div class="toolbar">
      <button class="btn primary" id="addBtn">+ ì¶”ê°€</button>
      <button class="btn ghost" id="clearFormBtn">ì…ë ¥ ì´ˆê¸°í™”</button>
    </div>
  </div>

  <!-- í”„ë¦¬ì…‹ -->
  <div class="card" style="margin-bottom:12px">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
      <div><strong>í”„ë¦¬ì…‹(ìì£¼ ë¶€ì¡±)</strong></div>
      <div class="muted">ê¸¸ê²Œ ëˆŒëŸ¬ í¸ì§‘/ì‚­ì œ</div>
    </div>
    <div class="preset-wrap" id="presetWrap"></div>
    <div class="toolbar" style="margin-top:10px">
      <input id="presetInput" type="text" placeholder="í”„ë¦¬ì…‹ ì¶”ê°€ (ì‰¼í‘œë¡œ ì¹´í…Œê³ ë¦¬: í’ˆëª©)" />
      <button class="btn" id="presetAddBtn">í”„ë¦¬ì…‹ ì¶”ê°€</button>
      <button class="btn" id="presetResetBtn">ê¸°ë³¸ í”„ë¦¬ì…‹ ë¶ˆëŸ¬ì˜¤ê¸°</button>
    </div>
  </div>

  <!-- ê²€ìƒ‰/ì •ë ¬/ë„êµ¬ -->
  <div class="card" style="margin-bottom:12px">
    <div class="search">
      <input id="searchInput" type="text" placeholder="ê²€ìƒ‰ (í’ˆëª©/ë©”ëª¨/ì¹´í…Œê³ ë¦¬)" />
      <select id="sortSelect">
        <option value="created">ì •ë ¬: ì¶”ê°€ìˆœ</option>
        <option value="cat">ì •ë ¬: ì¹´í…Œê³ ë¦¬â†’ì´ë¦„</option>
        <option value="name">ì •ë ¬: ì´ë¦„ ìˆœ</option>
      </select>
      <button class="btn" id="toggleHideDoneBtn">ì™„ë£Œ ìˆ¨ê¹€: ë”</button>
    </div>
    <div class="toolbar">
      <button class="btn" id="copyBtn">ğŸ“‹ ë§ˆê°ìš© í…ìŠ¤íŠ¸ ë³µì‚¬</button>
      <button class="btn" id="shareBtn">ğŸ“¤ ê³µìœ í•˜ê¸°</button>
      <button class="btn" id="exportBtn">â¬‡ï¸ ë°±ì—…(JSON)</button>
      <input id="importFile" type="file" accept="application/json" style="display:none" />
      <button class="btn" id="importBtn">â¬†ï¸ ë¶ˆëŸ¬ì˜¤ê¸°</button>
      <button class="btn" id="clearAllBtn">ğŸ§¹ ì „ì²´ ë¹„ìš°ê¸°</button>
      <button class="btn" id="undoBtn">â†©ï¸ ë˜ëŒë¦¬ê¸°</button>
    </div>
  </div>

  <!-- ë¦¬ìŠ¤íŠ¸ -->
  <div id="emptyState" class="muted" style="text-align:center;margin:30px 0">ì•„ì§ í•­ëª©ì´ ì—†ì–´ìš”. ìœ„ì—ì„œ ì¶”ê°€í•´ë³´ì„¸ìš”!</div>
  <div id="list" class="list" aria-live="polite"></div>
</main>

<footer></footer>

<script>
/* ---------- ë°ì´í„° ---------- */
const $ = (s)=>document.querySelector(s);
const $$ = (s)=>document.querySelectorAll(s);
const LS_KEY = 'shortage.items.v1';
const LS_PRESET = 'shortage.presets.v1';
const LS_SETTINGS = 'shortage.settings.v1';
let items = JSON.parse(localStorage.getItem(LS_KEY) || '[]');
let presets = JSON.parse(localStorage.getItem(LS_PRESET) || 'null');
let settings = JSON.parse(localStorage.getItem(LS_SETTINGS) || 'null');
let undoStack = [];

const defaultPresets = [
  {cat:'í¬ì¥/ì†Œëª¨í’ˆ', name:'ë¹¨ëŒ€(ì¼ë°˜)', qty:1, memo:''},
  {cat:'í¬ì¥/ì†Œëª¨í’ˆ', name:'ëšœê»‘(ì•„ì´ìŠ¤ L)', qty:1, memo:''},
  {cat:'í¬ì¥/ì†Œëª¨í’ˆ', name:'ì–¼ìŒì»µ(L)', qty:1, memo:''},
  {cat:'ì‹ìì¬', name:'ì‹œëŸ½(ë°”ë‹ë¼)', qty:1, memo:'ë¸Œëœë“œ ê³ ì •'},
  {cat:'ìŒë£Œ', name:'íƒ„ì‚°ìˆ˜', qty:2, memo:''},
  {cat:'ê¸°íƒ€', name:'ë¼ë²¨ì§€', qty:1, memo:''},
];

if (!Array.isArray(presets)) presets = defaultPresets;
if (!settings) settings = { storeName:'', senderName:'' };

savePresets(); saveSettings();

/* ---------- ìœ í‹¸ ---------- */
const now = new Date();
$('#today').textContent = new Intl.DateTimeFormat('ko-KR', {
  dateStyle:'full', timeStyle:'short'
}).format(now);

function saveItems(){ localStorage.setItem(LS_KEY, JSON.stringify(items)); }
function savePresets(){ localStorage.setItem(LS_PRESET, JSON.stringify(presets)); }
function saveSettings(){ localStorage.setItem(LS_SETTINGS, JSON.stringify(settings)); }
function uid(){ return Math.random().toString(36).slice(2,10); }
function confirmYN(msg){ return window.confirm(msg); }
function toast(msg){ alert(msg); } // ì‹¬í”Œ ë²„ì „

/* ---------- ë Œë”ë§ ---------- */
function renderList(){
  const list = $('#list');
  const empty = $('#emptyState');
  const term = $('#searchInput').value.trim().toLowerCase();
  const hideDone = $('#toggleHideDoneBtn').dataset.hide === '1';
  const sort = $('#sortSelect').value;

  let view = items.slice();

  // ê²€ìƒ‰ í•„í„°
  if (term) {
    view = view.filter(v =>
      (v.name||'').toLowerCase().includes(term) ||
      (v.memo||'').toLowerCase().includes(term) ||
      (v.cat||'').toLowerCase().includes(term)
    );
  }
  // ì™„ë£Œ ìˆ¨ê¹€
  if (hideDone) view = view.filter(v => !v.done);

  // ì •ë ¬
  if (sort === 'cat') {
    view.sort((a,b)=> (a.cat||'').localeCompare(b.cat||'') || (a.name||'').localeCompare(b.name||''));
  } else if (sort === 'name') {
    view.sort((a,b)=> (a.name||'').localeCompare(b.name||''));
  } else { // created
    view.sort((a,b)=> a.created - b.created);
  }

  list.innerHTML = '';
  if (view.length === 0) {
    empty.style.display = 'block';
  } else {
    empty.style.display = 'none';
    for (const it of view) {
      const li = document.createElement('div');
      li.className = 'item' + (it.done ? ' done' : '');
      li.innerHTML = `
        <input type="checkbox" ${it.done?'checked':''} aria-label="ì™„ë£Œì²´í¬" />
        <div>
          <div class="title">
            ${escapeHTML(it.name)}
            ${it.qty ? `<span class="qty">x ${it.qty}</span>`:''}
          </div>
          <div class="meta">
            <span class="cat">${escapeHTML(it.cat||'ê¸°íƒ€')}</span>
            ${it.memo ? `<span>${escapeHTML(it.memo)}</span>`:''}
          </div>
        </div>
        <div class="actions">
          <button class="btn" data-act="edit">ìˆ˜ì •</button>
          <button class="btn" data-act="del">ì‚­ì œ</button>
        </div>
      `;
      // ì´ë²¤íŠ¸
      const checkbox = li.querySelector('input[type="checkbox"]');
      checkbox.addEventListener('change', () => { it.done = checkbox.checked; saveItems(); renderList(); });

      li.querySelector('[data-act="edit"]').addEventListener('click', () => editItem(it.id));
      li.querySelector('[data-act="del"]').addEventListener('click', () => deleteItem(it.id));

      list.appendChild(li);
    }
  }
}

function escapeHTML(s){ return (s||'').replace(/[&<>"']/g, m=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;' }[m])); }

/* ---------- ì•„ì´í…œ CRUD ---------- */
function addItem(data){
  const it = {
    id: uid(),
    name: (data.name||'').trim(),
    qty: Number(data.qty||'') || '',
    cat: (data.cat||'ê¸°íƒ€').trim(),
    memo: (data.memo||'').trim(),
    done: false,
    created: Date.now()
  };
  if (!it.name) return toast('í’ˆëª©ëª…ì„ ì…ë ¥í•˜ì„¸ìš”.');
  items.push(it);
  saveItems(); renderList();
}

function editItem(id){
  const it = items.find(v=>v.id===id);
  if (!it) return;
  const name = prompt('í’ˆëª©ëª…', it.name);
  if (name===null) return; // ì·¨ì†Œ
  const qty = prompt('ìˆ˜ëŸ‰(ìˆ«ì, ë¹„ìš°ë©´ í‘œì‹œ ì•ˆí•¨)', it.qty || '');
  if (qty===null) return;
  const cat = prompt('ì¹´í…Œê³ ë¦¬(ì‹ìì¬/ìŒë£Œ/í¬ì¥/ì†Œëª¨í’ˆ/ê¸°íƒ€ ë“±)', it.cat || 'ê¸°íƒ€');
  if (cat===null) return;
  const memo = prompt('ë©”ëª¨', it.memo || '');
  if (memo===null) return;
  undoPush();
  it.name = name.trim();
  it.qty = qty.trim()==='' ? '' : (Number(qty)||'');
  it.cat = (cat||'ê¸°íƒ€').trim();
  it.memo = (memo||'').trim();
  saveItems(); renderList();
}

function deleteItem(id){
  const idx = items.findIndex(v=>v.id===id);
  if (idx<0) return;
  if (!confirmYN('ì •ë§ ì‚­ì œí• ê¹Œìš”?')) return;
  undoPush();
  items.splice(idx,1);
  saveItems(); renderList();
}

/* ---------- ë˜ëŒë¦¬ê¸° ---------- */
function undoPush(){ undoStack.push(JSON.stringify(items)); if (undoStack.length>20) undoStack.shift(); }
function undo(){ if (!undoStack.length) return toast('ë˜ëŒë¦´ ë‚´ìš©ì´ ì—†ì–´ìš”.'); items = JSON.parse(undoStack.pop()); saveItems(); renderList(); }

/* ---------- í”„ë¦¬ì…‹ ---------- */
function renderPresets(){
  const wrap = $('#presetWrap');
  wrap.innerHTML = '';
  for (const p of presets){
    const chip = document.createElement('button');
    chip.className = 'chip';
    chip.textContent = `${p.cat} Â· ${p.name}${p.qty?` x${p.qty}`:''}`;
    chip.addEventListener('click', ()=> addItem(p));
    // ê¸¸ê²Œ ëˆŒëŸ¬ í¸ì§‘/ì‚­ì œ
    let pressTimer;
    chip.addEventListener('mousedown', ()=> pressTimer = setTimeout(()=> editPreset(p), 550));
    chip.addEventListener('mouseup', ()=> clearTimeout(pressTimer));
    chip.addEventListener('mouseleave', ()=> clearTimeout(pressTimer));
    wrap.appendChild(chip);
  }
}
function editPreset(p){
  if (!confirmYN('í”„ë¦¬ì…‹ì„ ìˆ˜ì •/ì‚­ì œí• ê¹Œìš”? í™•ì¸=ìˆ˜ì •, ì·¨ì†Œ=ì‚­ì œ')) {
    // ì‚­ì œ
    presets = presets.filter(x=>x!==p);
    savePresets(); renderPresets(); return;
  }
  const name = prompt('í’ˆëª©ëª…', p.name); if (name===null) return;
  const qty = prompt('ìˆ˜ëŸ‰(ìˆ«ì, ë¹„ì›Œë‘ë©´ í‘œì‹œ ì•ˆí•¨)', p.qty || '');
  if (qty===null) return;
  const cat = prompt('ì¹´í…Œê³ ë¦¬', p.cat || 'ê¸°íƒ€'); if (cat===null) return;
  const memo = prompt('ë©”ëª¨', p.memo || ''); if (memo===null) return;
  p.name = (name||'').trim();
  p.qty = (qty||'').toString().trim()==='' ? '' : (Number(qty)||'');
  p.cat = (cat||'ê¸°íƒ€').trim();
  p.memo = (memo||'').trim();
  savePresets(); renderPresets();
}

/* ---------- ë‚´ë³´ë‚´ê¸°/ê³µìœ  ---------- */
function buildReport(){
  const date = new Intl.DateTimeFormat('ko-KR',{ dateStyle:'medium'}).format(new Date());
  const store = $('#storeName').value.trim();
  const sender = $('#senderName').value.trim();
  const lines = [];
  lines.push(`[${store || 'ê°€ê²Œ'}] ${date} ë§ˆê° ë¶€ì¡±í’ˆëª©`);
  const cats = {};
  for (const it of items){
    if (!cats[it.cat||'ê¸°íƒ€']) cats[it.cat||'ê¸°íƒ€'] = [];
    if (it.done) continue; // ì™„ë£Œ ì²´í¬í•œ ê±´ ë¹¼ê³  ë³´ê³ 
    const name = it.name;
    const qty = it.qty ? ` x${it.qty}` : '';
    const memo = it.memo ? ` (${it.memo})` : '';
    cats[it.cat||'ê¸°íƒ€'].push(`â€¢ ${name}${qty}${memo}`);
  }
  const catOrder = Object.keys(cats).sort();
  for (const c of catOrder){
    if (cats[c].length===0) continue;
    lines.push('');
    lines.push(`# ${c}`);
    lines.push(...cats[c]);
  }
  if (catOrder.length===0) lines.push('\n(ë¶€ì¡± í’ˆëª© ì—†ìŒ)');
  lines.push('\nâ€” ' + (sender || 'ì§ì›'));
  return lines.join('\n');
}

async function copyReport(){
  const text = buildReport();
  await navigator.clipboard.writeText(text);
  toast('ë§ˆê°ìš© í…ìŠ¤íŠ¸ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤. ì¹´í†¡/ë¬¸ìì— ë¶™ì—¬ë„£ê¸° í•˜ì„¸ìš”!');
}

async function shareReport(){
  const text = buildReport();
  if (navigator.share){
    try { await navigator.share({ text }); }
    catch(e){ /* ì·¨ì†Œ ë“± ë¬´ì‹œ */ }
  } else {
    await navigator.clipboard.writeText(text);
    toast('ê³µìœ  API ë¯¸ì§€ì›: í…ìŠ¤íŠ¸ë¥¼ ë³µì‚¬í–ˆìŠµë‹ˆë‹¤. ë¶™ì—¬ë„£ê¸° í•´ì£¼ì„¸ìš”.');
  }
}

/* ---------- ë°±ì—…/ë³µêµ¬ ---------- */
function exportJSON(){
  const blob = new Blob([ JSON.stringify({items, presets, settings}, null, 2) ], {type:'application/json'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url; a.download = 'shortage_backup.json'; a.click();
  URL.revokeObjectURL(url);
}
function importJSON(file){
  const reader = new FileReader();
  reader.onload = (e)=>{
    try {
      const data = JSON.parse(e.target.result);
      if (Array.isArray(data.items)) items = data.items;
      if (Array.isArray(data.presets)) presets = data.presets;
      if (data.settings) settings = data.settings;
      saveItems(); savePresets(); saveSettings();
      applySettingsUI();
      renderPresets(); renderList();
      toast('ë¶ˆëŸ¬ì˜¤ê¸° ì™„ë£Œ');
    } catch(err){ toast('ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨: íŒŒì¼ì„ í™•ì¸í•˜ì„¸ìš”.'); }
  };
  reader.readAsText(file);
}

/* ---------- ì„¤ì • ---------- */
function applySettingsUI(){
  $('#storeName').value = settings.storeName || '';
  $('#senderName').value = settings.senderName || '';
}

/* ---------- ì´ë²¤íŠ¸ ë°”ì¸ë”© ---------- */
$('#addBtn').addEventListener('click', ()=>{
  const data = {
    name: $('#nameInput').value,
    qty: $('#qtyInput').value,
    cat: $('#catInput').value,
    memo: $('#memoInput').value
  };
  undoPush();
  addItem(data);
  clearForm();
  $('#nameInput').focus();
});
$('#clearFormBtn').addEventListener('click', clearForm);
function clearForm(){ $('#nameInput').value=''; $('#qtyInput').value=''; $('#memoInput').value=''; }

$('#copyBtn').addEventListener('click', copyReport);
$('#shareBtn').addEventListener('click', shareReport);
$('#exportBtn').addEventListener('click', exportJSON);
$('#importBtn').addEventListener('click', ()=> $('#importFile').click());
$('#importFile').addEventListener('change', (e)=> e.target.files[0] && importJSON(e.target.files[0]));
$('#clearAllBtn').addEventListener('click', ()=>{
  if (!confirmYN('ì „ì²´ ë¹„ìš¸ê¹Œìš”?')) return;
  undoPush();
  items = []; saveItems(); renderList();
});
$('#undoBtn').addEventListener('click', undo);

$('#searchInput').addEventListener('input', renderList);
$('#sortSelect').addEventListener('change', renderList);
$('#toggleHideDoneBtn').addEventListener('click', (e)=>{
  const b = e.currentTarget;
  b.dataset.hide = b.dataset.hide==='1' ? '0' : '1';
  b.textContent = 'ì™„ë£Œ ìˆ¨ê¹€: ' + (b.dataset.hide==='1' ? 'ì¼¬' : 'ë”');
  renderList();
});

// í”„ë¦¬ì…‹ ì¶”ê°€: "ì¹´í…Œê³ ë¦¬: í’ˆëª©ëª… xìˆ˜ëŸ‰" ë˜ëŠ” "í’ˆëª©ëª…"
$('#presetAddBtn').addEventListener('click', ()=>{
  const raw = $('#presetInput').value.trim();
  if (!raw) return;
  const p = parsePreset(raw);
  presets.push(p); savePresets(); renderPresets();
  $('#presetInput').value='';
});
$('#presetResetBtn').addEventListener('click', ()=>{
  if (!confirmYN('ê¸°ë³¸ í”„ë¦¬ì…‹ìœ¼ë¡œ ë®ì–´ì“¸ê¹Œìš”?')) return;
  presets = defaultPresets.slice();
  savePresets(); renderPresets();
});

$('#saveSettingsBtn').addEventListener('click', ()=>{
  settings.storeName = $('#storeName').value.trim();
  settings.senderName = $('#senderName').value.trim();
  saveSettings();
  toast('ì„¤ì • ì €ì¥ ì™„ë£Œ');
});

/* ---------- íŒŒì„œ/ì´ˆê¸°í™” ---------- */
function parsePreset(s){
  // ì˜ˆ) "í¬ì¥/ì†Œëª¨í’ˆ: ì–¼ìŒì»µ L x3"  ë˜ëŠ”  "ì–¼ìŒì»µ L"
  let cat = 'ê¸°íƒ€', name = s, qty = '';
  if (s.includes(':')){
    const [c, rest] = s.split(':');
    cat = c.trim() || 'ê¸°íƒ€';
    name = rest.trim();
  }
  const x = name.lastIndexOf(' x');
  if (x>0){
    const q = Number(name.slice(x+2).trim());
    if (!Number.isNaN(q)) { qty = q; name = name.slice(0,x).trim(); }
  }
  return { cat, name, qty, memo:'' };
}

// ì…ë ¥ì—ì„œ ì—”í„°ë¡œ ì¶”ê°€
$('#nameInput').addEventListener('keydown', (e)=> { if(e.key==='Enter') $('#addBtn').click(); });
$('#qtyInput').addEventListener('keydown', (e)=> { if(e.key==='Enter') $('#addBtn').click(); });
$('#memoInput').addEventListener('keydown', (e)=> { if(e.key==='Enter' && (e.metaKey||e.ctrlKey)) $('#addBtn').click(); });

// ì´ˆê¸° ë Œë”
applySettingsUI(); renderPresets(); renderList();
</script>
</body>
</html>